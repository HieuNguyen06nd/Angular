<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<!-- My CSS -->
	<link rel="stylesheet" href="style.css">
	<title>AdminHub - Brands</title>
	<style>

		/* Modal Styles */
.modal {
	display: none;
	position: fixed;
	z-index: 3000;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	overflow: auto;
	background-color: rgba(0,0,0,0.4);
}

.modal-content {
	background-color: var(--light);
	margin: 5% auto;
	padding: 24px;
	border-radius: 10px;
	width: 50%;
	max-width: 600px;
	box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.modal h2 {
	margin-bottom: 20px;
	color: var(--dark);
}

.close {
	color: var(--dark-grey);
	float: right;
	font-size: 28px;
	font-weight: bold;
	cursor: pointer;
}

.close:hover {
	color: var(--dark);
}

.form-group {
	margin-bottom: 20px;
}

.form-group label {
	display: block;
	margin-bottom: 8px;
	font-weight: 500;
	color: var(--dark);
}

.form-group input[type="text"],
.form-group textarea,
.form-group select {
	width: 100%;
	padding: 10px;
	border: 1px solid var(--grey);
	border-radius: 5px;
	background: var(--light);
	color: var(--dark);
}

.form-group textarea {
	resize: vertical;
	min-height: 80px;
}

.form-group input[type="file"] {
	padding: 5px;
}

.current-image {
	margin-top: 10px;
	text-align: center;
}

.current-image img {
	max-width: 100px;
	max-height: 100px;
	border-radius: 5px;
	border: 1px solid var(--grey);
}

.current-image span {
	display: block;
	margin-top: 5px;
	font-size: 12px;
	color: var(--dark-grey);
}

.form-actions {
	display: flex;
	justify-content: flex-end;
	gap: 10px;
	margin-top: 20px;
}

.btn-cancel, .btn-submit, .btn-delete-confirm {
	padding: 10px 20px;
	border: none;
	border-radius: 5px;
	cursor: pointer;
	font-weight: 500;
}

.btn-cancel {
	background: var(--grey);
	color: var(--dark);
}

.btn-submit {
	background: var(--blue);
	color: var(--light);
}

.btn-delete-confirm {
	background: var(--red);
	color: var(--light);
}

.warning {
	color: var(--red);
	font-size: 14px;
	margin-top: 10px;
}

/* Table action buttons */
.btn-edit, .btn-delete {
	background: none;
	border: none;
	cursor: pointer;
	font-size: 18px;
	margin: 0 5px;
	padding: 5px;
}

.btn-edit {
	color: var(--blue);
}

.btn-delete {
	color: var(--red);
}

/* Switch styles */
.switch {
	position: relative;
	display: inline-block;
	width: 50px;
	height: 24px;
}

.switch input {
	opacity: 0;
	width: 0;
	height: 0;
}

.slider {
	position: absolute;
	cursor: pointer;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-color: #ccc;
	transition: .4s;
}

.slider:before {
	position: absolute;
	content: "";
	height: 16px;
	width: 16px;
	left: 4px;
	bottom: 4px;
	background-color: white;
	transition: .4s;
}

input:checked + .slider {
	background-color: var(--blue);
}

input:checked + .slider:before {
	transform: translateX(26px);
}

.slider.round {
	border-radius: 34px;
}

.slider.round:before {
	border-radius: 50%;
}

/* Responsive */
@media screen and (max-width: 768px) {
	.modal-content {
		width: 80%;
		margin: 10% auto;
	}
}

@media screen and (max-width: 576px) {
	.modal-content {
		width: 95%;
		margin: 20% auto;
		padding: 15px;
	}
}

	</style>
</head>
<body>
	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
			<i class='bx bxs-smile'></i>
			<span class="text">AdminHub</span>
		</a>
		<ul class="side-menu top">
			<li>
				<a href="#">
					<i class='bx bxs-dashboard' ></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-shopping-bag-alt' ></i>
					<span class="text">Orders</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-doughnut-chart' ></i>
					<span class="text">Products</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-message-dots' ></i>
					<span class="text">Category</span>
				</a>
			</li>
			<li class="active">
				<a href="#">
					<i class='bx bxs-message-dots' ></i>
					<span class="text">Brand</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-message-dots' ></i>
					<span class="text">Color</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-message-dots' ></i>
					<span class="text">Size</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-message-dots' ></i>
					<span class="text">Chất Liệu</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-group' ></i>
					<span class="text">Users</span>
				</a>
			</li>
		</ul>
		<ul class="side-menu">
			<li>
				<a href="#">
					<i class='bx bxs-cog' ></i>
					<span class="text">Settings</span>
				</a>
			</li>
			<li>
				<a href="#" class="logout">
					<i class='bx bxs-log-out-circle' ></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
	</section>
	<!-- SIDEBAR -->

	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu' ></i>
			<a href="#" class="nav-link">Brands</a>
			<form action="#">
				<div class="form-input">
					<input type="search" placeholder="Search...">
					<button type="submit" class="search-btn"><i class='bx bx-search' ></i></button>
				</div>
			</form>
			<input type="checkbox" id="switch-mode" hidden>
			<label for="switch-mode" class="switch-mode"></label>
			<a href="#" class="notification">
				<i class='bx bxs-bell' ></i>
				<span class="num">8</span>
			</a>
			<a href="#" class="profile">
				<img src="img/people.png">
			</a>
		</nav>
		<!-- NAVBAR -->

		<!-- MAIN -->
		<main>
			<div class="head-title">
				<div class="left">
					<h1>BrandAdmin</h1>
					<ul class="breadcrumb">
						<li>
							<a href="#">Brand Management</a>
						</li>
						<li><i class='bx bx-chevron-right' ></i></li>
						<li>
							<a class="active" href="#">Brands</a>
						</li>
					</ul>
				</div>
				<a href="#" class="btn-download">
					<i class='bx bxs-cloud-download' ></i>
					<span class="text">Download PDF</span>
				</a>
			</div>

			<div class="box-info">
				<li>
					<i class='bx bxs-purchase-tag'></i>
					<span class="text">
						<h3>42</h3>
						<p>Total Brands</p>
					</span>
				</li>
				<li>
					<i class='bx bxs-shopping-bag'></i>
					<span class="text">
						<h3>1,245</h3>
						<p>Active Products</p>
					</span>
				</li>
				<li>
					<i class='bx bxs-star'></i>
					<span class="text">
						<h3>15</h3>
						<p>Featured Brands</p>
					</span>
				</li>
				<li>
					<i class='bx bxs-calendar-star'></i>
					<span class="text">
						<h3>5</h3>
						<p>New This Month</p>
					</span>
				</li>
			</div>

			<div class="table-data">
				<div class="brand-list">
					<div class="head">
						<h3>Brand List</h3>
						<div class="actions">
							<button class="btn-add" onclick="openAddModal()">
								<i class='bx bx-plus'></i>
								<span>Add Brand</span>
							</button>
						</div>
					</div>
					<table>
						<thead>
							<tr>
								<th>Name</th>
								<th>Description</th>
								<th>Image</th>
								<th>Status</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Nike</td>
								<td>Art Do It: World's leading sports brand.</td>
								<td><img src="https://via.placeholder.com/40" alt="Brand Image"></td>
								<td>
									<label class="switch">
										<input type="checkbox" checked>
										<span class="slider round"></span>
									</label>
								</td>
								<td>
									<button class="btn-edit" onclick="openEditModal('Nike', 'Art Do It: World\\'s leading sports brand.', 'https://via.placeholder.com/40')">
										<i class='bx bx-edit'></i>
									</button>
									<button class="btn-delete" onclick="openDeleteModal('Nike')">
										<i class='bx bx-trash'></i>
									</button>
								</td>
							</tr>
							<tr>
								<td>Adidas</td>
								<td>Impossible is Nothing. Sportwear manufacturer.</td>
								<td><img src="https://via.placeholder.com/40" alt="Brand Image"></td>
								<td>
									<label class="switch">
										<input type="checkbox" checked>
										<span class="slider round"></span>
									</label>
								</td>
								<td>
									<button class="btn-edit" onclick="openEditModal('Adidas', 'Impossible is Nothing. Sportwear manufacturer.', 'https://via.placeholder.com/40')">
										<i class='bx bx-edit'></i>
									</button>
									<button class="btn-delete" onclick="openDeleteModal('Adidas')">
										<i class='bx bx-trash'></i>
									</button>
								</td>
							</tr>
							<tr>
								<td>Apple</td>
								<td>Think Different. Technology and consumer electronics.</td>
								<td><img src="https://via.placeholder.com/40" alt="Brand Image"></td>
								<td>
									<label class="switch">
										<input type="checkbox" checked>
										<span class="slider round"></span>
									</label>
								</td>
								<td>
									<button class="btn-edit" onclick="openEditModal('Apple', 'Think Different. Technology and consumer electronics.', 'https://via.placeholder.com/40')">
										<i class='bx bx-edit'></i>
									</button>
									<button class="btn-delete" onclick="openDeleteModal('Apple')">
										<i class='bx bx-trash'></i>
									</button>
								</td>
							</tr>
							<tr>
								<td>Samsung</td>
								<td>Do What You Can't. Electronics and appliances.</td>
								<td><img src="https://via.placeholder.com/40" alt="Brand Image"></td>
								<td>
									<label class="switch">
										<input type="checkbox" checked>
										<span class="slider round"></span>
									</label>
								</td>
								<td>
									<button class="btn-edit" onclick="openEditModal('Samsung', 'Do What You Can\\'t. Electronics and appliances.', 'https://via.placeholder.com/40')">
										<i class='bx bx-edit'></i>
									</button>
									<button class="btn-delete" onclick="openDeleteModal('Samsung')">
										<i class='bx bx-trash'></i>
									</button>
								</td>
							</tr>
							<tr>
								<td>Sony</td>
								<td>Make Believe. Consumer and professional electronics.</td>
								<td><img src="https://via.placeholder.com/40" alt="Brand Image"></td>
								<td>
									<label class="switch">
										<input type="checkbox" checked>
										<span class="slider round"></span>
									</label>
								</td>
								<td>
									<button class="btn-edit" onclick="openEditModal('Sony', 'Make Believe. Consumer and professional electronics.', 'https://via.placeholder.com/40')">
										<i class='bx bx-edit'></i>
									</button>
									<button class="btn-delete" onclick="openDeleteModal('Sony')">
										<i class='bx bx-trash'></i>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->

	<!-- Add Brand Modal -->
	<div id="addBrandModal" class="modal">
		<div class="modal-content">
			<span class="close" onclick="closeAddModal()">&times;</span>
			<h2>Add New Brand</h2>
			<form id="addBrandForm">
				<div class="form-group">
					<label for="brandName">Brand Name</label>
					<input type="text" id="brandName" name="brandName" required>
				</div>
				<div class="form-group">
					<label for="brandDescription">Description</label>
					<textarea id="brandDescription" name="brandDescription" rows="3" required></textarea>
				</div>
				<div class="form-group">
					<label for="brandImage">Brand Image</label>
					<input type="file" id="brandImage" name="brandImage" accept="image/*">
				</div>
				<div class="form-group">
					<label for="brandStatus">Status</label>
					<select id="brandStatus" name="brandStatus">
						<option value="active">Active</option>
						<option value="inactive">Inactive</option>
					</select>
				</div>
				<div class="form-actions">
					<button type="button" class="btn-cancel" onclick="closeAddModal()">Cancel</button>
					<button type="submit" class="btn-submit">Add Brand</button>
				</div>
			</form>
		</div>
	</div>

	<!-- Edit Brand Modal -->
	<div id="editBrandModal" class="modal">
		<div class="modal-content">
			<span class="close" onclick="closeEditModal()">&times;</span>
			<h2>Edit Brand</h2>
			<form id="editBrandForm">
				<input type="hidden" id="editBrandId">
				<div class="form-group">
					<label for="editBrandName">Brand Name</label>
					<input type="text" id="editBrandName" name="editBrandName" required>
				</div>
				<div class="form-group">
					<label for="editBrandDescription">Description</label>
					<textarea id="editBrandDescription" name="editBrandDescription" rows="3" required></textarea>
				</div>
				<div class="form-group">
					<label for="editBrandImage">Brand Image</label>
					<input type="file" id="editBrandImage" name="editBrandImage" accept="image/*">
					<div class="current-image">
						<img id="currentBrandImage" src="" alt="Current Brand Image">
						<span>Current Image</span>
					</div>
				</div>
				<div class="form-group">
					<label for="editBrandStatus">Status</label>
					<select id="editBrandStatus" name="editBrandStatus">
						<option value="active">Active</option>
						<option value="inactive">Inactive</option>
					</select>
				</div>
				<div class="form-actions">
					<button type="button" class="btn-cancel" onclick="closeEditModal()">Cancel</button>
					<button type="submit" class="btn-submit">Save Changes</button>
				</div>
			</form>
		</div>
	</div>

	<!-- Delete Confirmation Modal -->
	<div id="deleteBrandModal" class="modal">
		<div class="modal-content">
			<span class="close" onclick="closeDeleteModal()">&times;</span>
			<h2>Delete Brand</h2>
			<p>Are you sure you want to delete <span id="brandToDelete"></span>?</p>
			<p class="warning">This action cannot be undone and will permanently remove the brand and all associated data.</p>
			<div class="form-actions">
				<button type="button" class="btn-cancel" onclick="closeDeleteModal()">Cancel</button>
				<button type="button" class="btn-delete-confirm" onclick="confirmDelete()">Delete</button>
			</div>
		</div>
	</div>

	<script src="script.js"></script>
	<script>
		// Modal functions
		function openAddModal() {
			document.getElementById('addBrandModal').style.display = 'block';
		}

		function closeAddModal() {
			document.getElementById('addBrandModal').style.display = 'none';
		}

		function openEditModal(name, description, imageUrl) {
			document.getElementById('editBrandName').value = name;
			document.getElementById('editBrandDescription').value = description;
			document.getElementById('currentBrandImage').src = imageUrl;
			document.getElementById('editBrandModal').style.display = 'block';
		}

		function closeEditModal() {
			document.getElementById('editBrandModal').style.display = 'none';
		}

		function openDeleteModal(brandName) {
			document.getElementById('brandToDelete').textContent = brandName;
			document.getElementById('deleteBrandModal').style.display = 'block';
		}

		function closeDeleteModal() {
			document.getElementById('deleteBrandModal').style.display = 'none';
		}

		function confirmDelete() {
			// Add your delete logic here
			alert('Brand deleted successfully!');
			closeDeleteModal();
		}

		// Close modals when clicking outside
		window.onclick = function(event) {
			if (event.target.className === 'modal') {
				event.target.style.display = 'none';
			}
		}

		// Form submissions
		document.getElementById('addBrandForm').addEventListener('submit', function(e) {
			e.preventDefault();
			// Add your form submission logic here
			alert('Brand added successfully!');
			closeAddModal();
			this.reset();
		});

		document.getElementById('editBrandForm').addEventListener('submit', function(e) {
			e.preventDefault();
			// Add your form submission logic here
			alert('Brand updated successfully!');
			closeEditModal();
		});

		// Biến lưu trữ thông tin hàng đang được chỉnh sửa
		let currentEditingRow = null;

// Mở modal chỉnh sửa và điền thông tin
function openEditModal(rowElement, name, description, imageUrl, status) {
	// Lưu lại hàng đang chỉnh sửa
	currentEditingRow = rowElement.closest('tr');
	
	// Điền thông tin vào form
	document.getElementById('editBrandName').value = name;
	document.getElementById('editBrandDescription').value = description;
	document.getElementById('currentBrandImage').src = imageUrl;
	document.getElementById('editBrandStatus').value = status ? 'active' : 'inactive';
	
	// Hiển thị modal
	document.getElementById('editBrandModal').style.display = 'block';
}

// Đóng modal chỉnh sửa
function closeEditModal() {
	document.getElementById('editBrandModal').style.display = 'none';
	currentEditingRow = null;
}

// Xử lý khi submit form chỉnh sửa
document.getElementById('editBrandForm').addEventListener('submit', function(e) {
	e.preventDefault();
	
	// Lấy giá trị từ form
	const name = document.getElementById('editBrandName').value;
	const description = document.getElementById('editBrandDescription').value;
	const status = document.getElementById('editBrandStatus').value === 'active';
	
	// Cập nhật thông tin vào bảng
	if (currentEditingRow) {
		currentEditingRow.cells[0].textContent = name;
		currentEditingRow.cells[1].textContent = description;
		
		// Cập nhật trạng thái
		const statusCheckbox = currentEditingRow.querySelector('.switch input');
		if (statusCheckbox) {
			statusCheckbox.checked = status;
		}
		
		// Nếu có ảnh mới, cập nhật ảnh
		const imageInput = document.getElementById('editBrandImage');
		if (imageInput.files && imageInput.files[0]) {
			const reader = new FileReader();
			reader.onload = function(e) {
				currentEditingRow.cells[2].querySelector('img').src = e.target.result;
			};
			reader.readAsDataURL(imageInput.files[0]);
		}
	}
	
	// Thông báo và đóng modal
	alert('Brand updated successfully!');
	closeEditModal();
});

// Cập nhật sự kiện onclick cho các nút edit
document.querySelectorAll('.btn-edit').forEach(button => {
	button.addEventListener('click', function() {
		const row = this.closest('tr');
		const name = row.cells[0].textContent;
		const description = row.cells[1].textContent;
		const imageUrl = row.cells[2].querySelector('img').src;
		const status = row.querySelector('.switch input').checked;
		
		openEditModal(row, name, description, imageUrl, status);
	});
});
	</script>
</body>
</html>